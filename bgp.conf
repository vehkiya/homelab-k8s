# default to using syslog. /etc/rsyslog.d/45-frr.conf places the log in
# /var/log/frr/frr.log
#
# Note:
# FRR's configuration shell, vtysh, dynamically edits the live, in-memory
# configuration while FRR is running. When instructed, vtysh will persist the
# live configuration to this file, overwriting its contents. If you want to
# avoid this, you can edit this file manually before starting FRR, or instruct
# vtysh to write configuration to a different file.
log syslog informational
#

! -*- bgp -*-
!
hostname $UDMP_HOSTNAME
frr defaults traditional
log file stdout
!
router bgp 65000
 bgp ebgp-requires-policy
 bgp router-id 10.10.1.1
 maximum-paths 1
 !
 ! Peer group for Cilium
 neighbor CI peer-group
 neighbor CI remote-as 65512
 neighbor CI activate
 neighbor CI soft-reconfiguration inbound
 neighbor CI timers 15 45
 neighbor CI timers connect 15
 ! Neighbors for Cilium
 neighbor 10.10.1.101 peer-group CI
 neighbor 10.10.1.102 peer-group CI
 neighbor 10.10.1.103 peer-group CI

 address-family ipv4 unicast
  !
  neighbor CI activate
  neighbor CI route-map ALLOW-ALL in
  neighbor CI route-map ALLOW-ALL out
  neighbor CI next-hop-self
 exit-address-family
 !
route-map ALLOW-ALL permit 10
!
line vty
!