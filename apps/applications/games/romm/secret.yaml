apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: romm-secret
  namespace: games
spec:
  secretStoreRef:
    name: vaultwarden-fields
    kind: ClusterSecretStore
  target:
    name: romm-secret
  data:
    # ---- DB ----
    - secretKey: DB_HOST
      remoteRef:
        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
        property: "db_host"
    - secretKey: DB_NAME
      remoteRef:
        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
        property: "db_name"
    - secretKey: DB_USER
      remoteRef:
        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
        property: "db_user"
    - secretKey: DB_PASSWD
      remoteRef:
        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
        property: "db_password"
    # ---- Auth ----
    - secretKey: ROMM_AUTH_SECRET_KEY
      remoteRef:
        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
        property: "auth_secret_key"
    # ---- Screenscraper ----
    - secretKey: SCREENSCRAPER_USER
      remoteRef:
        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
        property: "screenscraper_user"
    - secretKey: SCREENSCRAPER_PASSWORD
      remoteRef:
        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
        property: "screenscraper_password"
    # ---- RetroAchievements ----
    - secretKey: RETROACHIEVEMENTS_API_KEY
      remoteRef:
        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
        property: "RETROACHIEVEMENTS_API_KEY"
    # ---- SteamGripDB ----
    - secretKey: STEAMGRIDDB_API_KEY
      remoteRef:
        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
        property: "STEAMGRIDDB_API_KEY"
    # ---- IGDB ----
    - secretKey: IGDB_CLIENT_ID
      remoteRef:
        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
        property: "IGDB_CLIENT_ID"
    - secretKey: IGDB_CLIENT_SECRET
      remoteRef:
        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
        property: "IGDB_CLIENT_SECRET"
    # ---- OIDC ----
    - secretKey: OIDC_CLIENT_ID
      remoteRef:
        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
        property: "OIDC_CLIENT_ID"
    - secretKey: OIDC_CLIENT_SECRET
      remoteRef:
        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
        property: "OIDC_CLIENT_SECRET"
#    - secretKey: OIDC_REDIRECT_URI
#      remoteRef:
#        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
#        property: "OIDC_REDIRECT_URI"
#    - secretKey: OIDC_SERVER_APPLICATION_URL
#      remoteRef:
#        key: "364cbd52-99de-4fe6-ad62-57d23f2fdde5"
#        property: "OIDC_SERVER_APPLICATION_URL"
