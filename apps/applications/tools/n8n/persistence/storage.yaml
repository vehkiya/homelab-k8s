apiVersion: v1
kind: PersistentVolume
metadata:
  annotations:
    pv.kubernetes.io/provisioned-by: csi.san.synology.com
  labels:
    app: n8n
  name: n8n-config-pv
spec:
  accessModes:
    - ReadWriteOnce
  capacity:
    storage: 4Gi
  csi:
    driver: csi.san.synology.com
    fsType: btrfs
    volumeAttributes:
      dsm: fortress.kerrlab.app
      protocol: iscsi
    volumeHandle: 219556fb-f2db-46f6-afc3-3487b4cea7ed
  persistentVolumeReclaimPolicy: Retain
  storageClassName: synology-iscsi-persistent
  volumeMode: Filesystem
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  labels:
    app: n8n
  name: n8n-config-pvc
  namespace: default
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 4Gi
  storageClassName: synology-iscsi-persistent
  volumeMode: Filesystem
  volumeName: n8n-config-pv
