# This assumes that your proxy service is capable of resolving the container hostnames
server {
    server_name bar.mydomain.com;

    location /bar/ {
        # The trailing slashes cause Nginx to automatically strip the /bar prefix
        # Request to /bar/api/version → forwarded as /api/version
        proxy_pass http://bar-assistant:8080/;
    }

    location /search/ {
        # Similarly, /search/indexes → forwarded as /indexes
        proxy_pass http://meilisearch:7700/;
    }

    location / {
        proxy_pass http://salt-rim:8080/;
    }
}