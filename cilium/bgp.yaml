apiVersion: "cilium.io/v2alpha1"
kind: CiliumLoadBalancerIPPool
metadata:
  name: "cilium-lb-pool"
spec:
  blocks:
  - cidr: "10.10.1.225/27"
  - cidr: "fd00:10:100::/112"  
  serviceSelector:
    matchExpressions:
    - { key: pool, operator: NotIn, values: [ 'cilium-traefik-pool' ] }
---
apiVersion: "cilium.io/v2alpha1"
kind: CiliumLoadBalancerIPPool
metadata:
  name: "traefik-lb-pool"
spec:
  blocks:
  - cidr: "10.10.1.221/32"
  - cidr: "fd00:10:244::221/128"
  serviceSelector:
    matchLabels:
      pool: cilium-traefik-pool
---
apiVersion: cilium.io/v2alpha1
kind: CiliumBGPPeeringPolicy
metadata:
  name: custom-policy
spec:
  virtualRouters:
    - exportPodCIDR: true
      localASN: 65512
      neighbors:
        - connectRetryTimeSeconds: 120
          eBGPMultihopTTL: 2
          holdTimeSeconds: 90
          keepAliveTimeSeconds: 30
          peerASN: 65000
          peerAddress: 10.10.1.1/32
          peerPort: 179
          families:
            - afi: ipv4
              safi: unicast
            - afi: ipv6
              safi: unicast
      serviceSelector:
        matchExpressions:
          - { key: somekey, operator: NotIn, values: [ 'never-used-value' ] }