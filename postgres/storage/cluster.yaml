# kustomize-pv/base/pv-pvc-base.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  # Kustomize will merge annotations if specified in patches
  annotations:
    pv.kubernetes.io/provisioned-by: csi.san.synology.com
  name: cnpg-cluster-pv-1
spec:
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname # Standard label for node hostname
          operator: In # Operator to check if the value is in the list
          values:
          - lab-1
  accessModes:
    - ReadWriteOnce
  capacity:
    storage: 25Gi # Placeholder storage, will be overridden
  csi:
    driver: csi.san.synology.com
    volumeHandle: ab5527ac-622e-4a5e-8d5d-7096e2b5f6f2
    fsType: btrfs # Assuming this is constant
    volumeAttributes: # Assuming these are constant
      dsm: 'fortress.kerrlab.app'
      protocol: 'iscsi'
  persistentVolumeReclaimPolicy: Retain
  storageClassName: synology-iscsi-persistent # Assuming this is constant
  volumeMode: Filesystem
---
# kustomize-pv/base/pv-pvc-base.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  # Kustomize will merge annotations if specified in patches
  annotations:
    pv.kubernetes.io/provisioned-by: csi.san.synology.com
  name: cnpg-cluster-pv-2
spec:
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname # Standard label for node hostname
          operator: In # Operator to check if the value is in the list
          values:
          - lab-2
  accessModes:
    - ReadWriteOnce
  capacity:
    storage: 25Gi # Placeholder storage, will be overridden
  csi:
    driver: csi.san.synology.com
    volumeHandle: 5c6680fb-0fa1-4a98-b1e5-b5d961eb0da6
    fsType: btrfs # Assuming this is constant
    volumeAttributes: # Assuming these are constant
      dsm: 'fortress.kerrlab.app'
      protocol: 'iscsi'
  persistentVolumeReclaimPolicy: Retain
  storageClassName: synology-iscsi-persistent # Assuming this is constant
  volumeMode: Filesystem
---
# kustomize-pv/base/pv-pvc-base.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  # Kustomize will merge annotations if specified in patches
  annotations:
    pv.kubernetes.io/provisioned-by: csi.san.synology.com
  name: cnpg-cluster-pv-3
spec:
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname # Standard label for node hostname
          operator: In # Operator to check if the value is in the list
          values:
          - lab-3
  accessModes:
    - ReadWriteOnce
  capacity:
    storage: 25Gi # Placeholder storage, will be overridden
  csi:
    driver: csi.san.synology.com
    volumeHandle: 24b8a8f8-0f62-4a69-bc03-3404a37ba092
    fsType: btrfs # Assuming this is constant
    volumeAttributes: # Assuming these are constant
      dsm: 'fortress.kerrlab.app'
      protocol: 'iscsi'
  persistentVolumeReclaimPolicy: Retain
  storageClassName: synology-iscsi-persistent # Assuming this is constant
  volumeMode: Filesystem