# kustomize-pv/base/pv-pvc-base.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  # Kustomize will merge annotations if specified in patches
  annotations:
    pv.kubernetes.io/provisioned-by: csi.san.synology.com
  name: cnpg-cluster-pv-1
spec:
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname # Standard label for node hostname
          operator: In # Operator to check if the value is in the list
          values:
          - lab-1
  accessModes:
    - ReadWriteOnce
  capacity:
    storage: 25Gi # Placeholder storage, will be overridden
  csi:
    driver: csi.san.synology.com
    volumeHandle: ccd1643c-ecab-41c8-8032-ccb7b1203ba5
    fsType: btrfs # Assuming this is constant
    volumeAttributes: # Assuming these are constant
      dsm: 'fortress.kerrlab.app'
      protocol: 'iscsi'
  persistentVolumeReclaimPolicy: Retain
  storageClassName: synology-iscsi-persistent # Assuming this is constant
  volumeMode: Filesystem
---
# kustomize-pv/base/pv-pvc-base.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  # Kustomize will merge annotations if specified in patches
  annotations:
    pv.kubernetes.io/provisioned-by: csi.san.synology.com
  name: cnpg-cluster-pv-2
spec:
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname # Standard label for node hostname
          operator: In # Operator to check if the value is in the list
          values:
          - lab-2
  accessModes:
    - ReadWriteOnce
  capacity:
    storage: 25Gi # Placeholder storage, will be overridden
  csi:
    driver: csi.san.synology.com
    volumeHandle: 108c7bad-25d3-4f6e-9530-d96653d7a668
    fsType: btrfs # Assuming this is constant
    volumeAttributes: # Assuming these are constant
      dsm: 'fortress.kerrlab.app'
      protocol: 'iscsi'
  persistentVolumeReclaimPolicy: Retain
  storageClassName: synology-iscsi-persistent # Assuming this is constant
  volumeMode: Filesystem
---
# kustomize-pv/base/pv-pvc-base.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  # Kustomize will merge annotations if specified in patches
  annotations:
    pv.kubernetes.io/provisioned-by: csi.san.synology.com
  name: cnpg-cluster-pv-3
spec:
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname # Standard label for node hostname
          operator: In # Operator to check if the value is in the list
          values:
          - lab-3
  accessModes:
    - ReadWriteOnce
  capacity:
    storage: 25Gi # Placeholder storage, will be overridden
  csi:
    driver: csi.san.synology.com
    volumeHandle: 195d8351-a205-47c2-84fd-2e59a463b321
    fsType: btrfs # Assuming this is constant
    volumeAttributes: # Assuming these are constant
      dsm: 'fortress.kerrlab.app'
      protocol: 'iscsi'
  persistentVolumeReclaimPolicy: Retain
  storageClassName: synology-iscsi-persistent # Assuming this is constant
  volumeMode: Filesystem
