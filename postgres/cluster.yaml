# postgres-cluster.yaml
apiVersion: postgresql.cnpg.io/v1
kind: Cluster
metadata:
  name: postgres-db
  namespace: postgres
spec:
  instances: 3

  storage:
    storageClass: synology-iscsi-persistent
    size: 20Gi

  # Enable Pod Monitor for Prometheus (Optional)
  monitoring:
    enablePodMonitor: true

  bootstrap:
    initdb:
      database: postgres
      owner: postgres
      secret:
        name: postgres-db-main-superuser

  certificates:
    serverAltDNSNames:
      - postgres.kerrlab.app      